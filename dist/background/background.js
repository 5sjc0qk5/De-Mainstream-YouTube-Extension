var LOCAL_STORAGE_KEY="demainstream",GET_ALL="get_all",SET="set",SET_ALL="set_all",RATING_GREEN="#0f7b12",RATING_RED="#7e0308",DAILY_TOP_URL="https://www.youtube.com/results?search_query=youtube&sp=CAMSBAgCEAE%253D",browser=browser||chrome;function isObject(n){var e=typeof n;return"function"==e||"object"==e&&!!n}function sendYouTubeUpdate(e){chrome.tabs.query({active:!0,currentWindow:!0},function(n){chrome.tabs.sendMessage(n[0].id,e)})}browser.runtime.onMessage.addListener(function(n,e,i){switch(n.action){case GET_ALL:i&&i(getValues());break;case SET_ALL:setAllChannelsEnabled(n.enabled),sendYouTubeUpdate({type:SET_ALL,enabled:n.enabled});break;case SET:setChannelEnabled(n.channelId,n.enabled),sendYouTubeUpdate({type:SET,channelId:n.channelId})}return!0});var channels=[{id:"AETV",name:"A&E",icon:"../img/channels/a-e.jpg"},{id:"ABCNews",name:"ABC News",icon:"../img/channels/abc-news.jpg"},{name:"Access",id:"AccessHollywood",icon:"../img/channels/access.jpg"},{id:"AlJazeeraEnglish",name:"Al Jazeera English",icon:"../img/channels/al-jazeera-english.jpg"},{id:"BBC",name:"BBC",icon:"../img/channels/bbc.jpg"},{id:"bbcnews",name:"BBC News",icon:"../img/channels/bbc-news.jpg"},{id:"BETNetworks",name:"BETNetworks",icon:"../img/channels/bet-networks.jpg"},{id:"Bloomberg",name:"Bloomberg",icon:"../img/channels/bloomberg.jpg"},{id:"UCV61VqLMr2eIhH4f51PV0gA",name:"Bloomberg Politics",icon:"../img/channels/bloomberg-politics.jpg"},{id:"VideoByBravo",name:"Bravo",icon:"../img/channels/bravo.jpg"},{id:"BuzzFeedVideo",name:"BuzzFeedVideo",icon:"../img/channels/buzzfeed-video.jpg"},{id:"cbcnews",name:"CBC News",icon:"../img/channels/cbc-news.jpg"},{id:"CBS",name:"CBS",icon:"../img/channels/cbs.jpg"},{id:"CBSNewsOnline",name:"CBS News",icon:"../img/channels/cbs-news.jpg"},{id:"CBSEveningNews",name:"CBS Evening News",icon:"../img/channels/cbs-evening-news.jpg"},{id:"CBSThisMorning",name:"CBS This Morning",icon:"../img/channels/cbs-this-morning.jpg"},{id:"cnbc",name:"CNBC",icon:"../img/channels/cnbc.jpg"},{id:"CNN",name:"CNN",icon:"../img/channels/cnn.jpg"},{id:"comedycentral",name:"Comedy Central",icon:"../img/channels/comedy-central.jpg"},{id:"CSPAN",name:"C-SPAN",icon:"../img/channels/cspan.jpg"},{id:"enews",name:"E! News",icon:"../img/channels/enews.jpg"},{id:"EntertainmentTonight",name:"Entertainment Tonight",icon:"../img/channels/entertainment-tonight.jpg"},{id:"ESPN",name:"ESPN",icon:"../img/channels/espn.jpg"},{id:"FoxNewsChannel",name:"Fox News",icon:"../img/channels/fox-news.jpg"},{id:"FoxBusinessNetwork",name:"Fox Business",icon:"../img/channels/fox-business.jpg"},{id:"GQVideos",name:"GQ",icon:"../img/channels/gq.jpg"},{id:"TheGuardian",name:"Guardian",icon:"../img/channels/guadian.jpg"},{id:"guardianwires",name:"Guardian News",icon:"../img/channels/guardian-news.jpg"},{id:"historychannel",name:"HISTORY",icon:"../img/channels/history.jpg"},{id:"hollywoodlife09",name:"HollywoodLife",icon:"../img/channels/hollywood-life.jpg"},{id:"HuffingtonPost",name:"HuffPost",icon:"../img/channels/huff-post.jpg"},{id:"cbstvdinsideedition",name:"Inside Edition",icon:"../img/channels/inside-edition.jpg"},{id:"UCHJuQZuzapBh-CuhRYxIZrg",name:"INSIDER",icon:"../img/channels/insider.jpg"},{id:"Lifetime",name:"Lifetime",icon:"../img/channels/lifetime.jpg"},{id:"mashable",name:"Mashable",icon:"../img/channels/mashable.jpg"},{id:"msnbcleanforward",name:"MSNBC",icon:"../img/channels/msnbc.jpg"},{id:"NBC",name:"NBC",icon:"../img/channels/nbc.jpg"},{id:"NBCNews",name:"NBC News",icon:"../img/channels/nbc-news.jpg"},{id:"nowthismedia",name:"NowThis News",icon:"../img/channels/nowthis-news.jpg"},{id:"PBS",name:"PBS",icon:"../img/channels/pbs.jpg"},{id:"people",name:"PeopleTV",icon:"../img/channels/people.jpg"},{id:"RussiaToday",name:"RT",icon:"../img/channels/rt.jpg"},{id:"RuptlyTV",name:"Ruptly",icon:"../img/channels/ruptly.jpg"},{id:"skynews",name:"Sky News",icon:"../img/channels/skynews.jpg"},{id:"TBS",name:"TBS",icon:"../img/channels/tbs.jpg"},{id:"TheNewYorkTimes",name:"The New York Times",icon:"../img/channels/the-new-york-times.jpg"},{id:"NewYorkerDotCom",name:"The New Yorker",icon:"../img/channels/the-new-yorker.jpg"},{id:"thesunnewspaper",name:"The Sun",icon:"../img/channels/the-sun.jpg"},{id:"TheVerge",name:"The Verge",icon:"../img/channels/the-verge.jpg"},{id:"TimeMagazine",name:"TIME",icon:"../img/channels/time.jpg"},{id:"TMZ",name:"TMZ",icon:"../img/channels/tmz.jpg"},{id:"TODAYNBC",name:"TODAY",icon:"../img/channels/today.jpg"},{id:"usanetwork",name:"USA Network",icon:"../img/channels/usa-network.jpg"},{id:"VanityFairMagazine",name:"Vanity Fair",icon:"../img/channels/vanity-fair.jpg"},{id:"Variety",name:"Variety",icon:"../img/channels/variety.jpg"},{id:"vicenews",name:"VICE News",icon:"../img/channels/vice.jpg"},{id:"Americanvogue",name:"Vogue",icon:"../img/channels/vogue.jpg"},{id:"voxdotcom",name:"Vox",icon:"../img/channels/vox.jpg"},{id:"WashingtonPost",name:"Washington Post",icon:"../img/channels/washington-post.jpg"},{id:"yahoo",name:"Yahoo",icon:"../img/channels/yahoo.jpg"}];function hasLocalStorage(){return!!window.localStorage&&!!isObject(window.localStorage)}function setup(){if(!hasLocalStorage())return!1;if(!window.localStorage[LOCAL_STORAGE_KEY]&&!Array.isArray(window.localStorage[LOCAL_STORAGE_KEY])){var n=channels.map(function(n){return n.enabled=!1,n});window.localStorage[LOCAL_STORAGE_KEY]=JSON.stringify(n)}}function getValues(){if(!hasLocalStorage())return!1;var n=window.localStorage[LOCAL_STORAGE_KEY];return n=JSON.parse(n)}function setChannelEnabled(n,e){if(hasLocalStorage()){var i=window.localStorage[LOCAL_STORAGE_KEY];i=JSON.parse(i),Array.isArray(i)||setup();for(var a=0;a<i.length;a++){var o=i[a];o.id===n&&(o.enabled=e,i[a]=o)}window.localStorage[LOCAL_STORAGE_KEY]=JSON.stringify(i)}}function setAllChannelsEnabled(e){if(hasLocalStorage()){var n=channels.map(function(n){return n.enabled=e,n});window.localStorage[LOCAL_STORAGE_KEY]=JSON.stringify(n)}}setup();