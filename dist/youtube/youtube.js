var LOCAL_STORAGE_KEY="demainstream",GET_ALL="get_all",SET="set",SET_ALL="set_all",RATING_GREEN="#0f7b12",RATING_RED="#7e0308",DAILY_TOP_URL="https://www.youtube.com/results?search_query=youtube&sp=CAMSBAgCEAE%253D",browser=browser||chrome;function isObject(e){var t=typeof e;return"function"==t||"object"==t&&!!e}!function(){var e=document.querySelector("#search-form"),t=e.querySelector("#search"),r=[],s=[],a=[],l=!1,n=!1,o=!1,i=null,d=null;function p(){for(var e=document.querySelectorAll(".yt-formatted-string.yt-simple-endpoint, yt-formatted-string.ytd-channel-name"),t=0;t<e.length;t++){var r=e[t],n=r.getAttribute("href")||r.getAttribute("title"),o=n?n.replace("/user/","").replace("/channel/","").toLowerCase():-1;if(-1<s.indexOf(o)||-1<a.indexOf(o)){var i=r.closest("ytd-video-renderer, ytd-compact-video-renderer");i&&i.remove()}}}browser.runtime.sendMessage({action:GET_ALL},function(e){if(!Array.isArray(e))return!1;(r=e).filter(function(e){return e.enabled}).forEach(function(e){a.push(e.name.toLowerCase()),s.push(e.id)})}),e&&e.addEventListener("submit",function(){p()},!1),t&&t.addEventListener("keyup",function(e){13===e.keyCode&&p()}),chrome.runtime.onMessage.addListener(function(t){if(t.type==SET){var e=r.find(function(e){return e.id===t.channelId});a.push(e.name.toLowerCase()),s.push(e.id),p()}else t.type==SET_ALL&&(a=[],s=[],t.enabled&&r.forEach(function(e){a.push(e.name.toLowerCase()),s.push(e.id)}),p());return!0});var c,u,y=(c=window.MutationObserver||window.WebKitMutationObserver,function(e,r){e&&1!==!e.nodeType&&(c?new c(function(e){var t=e.find(function(e){return"childList"===e.type&&"contents"===e.target.id});r(t)}).observe(e,{childList:!0,subtree:!0}):window.addEventListener&&(e.addEventListener("DOMNodeInserted",r,!1),e.addEventListener("DOMNodeRemoved",r,!1)))});u=setInterval(function(){l||function(){var e=window.location.search,t=!1;"?search_query=youtube&sp=CAMSBAgCEAE%253D"===e&&(t=!0);var r=document.querySelector("div#items.style-scope.ytd-guide-section-renderer");if(!r)return;var n=document.createElement("a");n.href=DAILY_TOP_URL,n.style.setProperty("display","block","important"),n.style.setProperty("height","40px","important"),n.style.setProperty("width","100%","important"),n.style.setProperty("line-height","40px","important"),n.style.setProperty("padding","0 28px","important"),n.style.setProperty("cursor","pointer","important"),n.style.setProperty("box-sizing","border-box","important"),n.style.setProperty("text-decoration","none","important"),t&&n.style.setProperty("background-color","#d9d9d9","important"),n.addEventListener("mouseover",function(){n.style.setProperty("background-color","#E7E7E7","important")},!1),n.addEventListener("mouseout",function(){t||n.style.removeProperty("background-color")},!1);var o=document.createElement("span");o.innerHTML="Daily Popular Videos",o.style.setProperty("display","inlne-block","important"),o.style.setProperty("color","rgba(17,17,17,0.8)","important"),o.style.setProperty("font-size","14px","important"),o.style.setProperty("line-height","40px","important"),o.style.setProperty("text-decoration","none","important"),o.style.setProperty("vertical-align","middle","important"),t&&(o.style.setProperty("font-weight","500","important"),o.style.setProperty("color","#000","important"));var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.setProperty("display","inlne-block","important"),i.style.setProperty("height","20px","important"),i.style.setProperty("width","20px","important"),i.style.setProperty("vertical-align","middle","important"),i.style.setProperty("margin","0 24px 0 0","important"),i.setAttribute("version","1.1"),i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttribute("viewBox","0 0 1792 1792");var s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d","M1920 1536v128h-2048v-1536h128v1408h1920zm-128-1248v435q0 21-19.5 29.5t-35.5-7.5l-121-121-633 633q-10 10-23 10t-23-10l-233-233-416 416-192-192 585-585q10-10 23-10t23 10l233 233 464-464-121-121q-16-16-7.5-35.5t29.5-19.5h435q14 0 23 9t9 23z"),s.setAttribute("fill","#909090"),t&&s.setAttribute("fill","#fc0d1b"),i.appendChild(s),n.appendChild(i),n.appendChild(o),r&&(r.appendChild(n),l=!0)}(),(i=document.querySelector("#contents.style-scope.ytd-item-section-renderer"))&&!n&&(n=!0,y(i,function(e){p()})),(d=document.querySelector("#items.ytd-watch-next-secondary-results-renderer"))&&!o&&(o=!0,y(d,function(e){p()})),l&&i&&d&&clearInterval(u),p()},100),setTimeout(function(){clearInterval(u)},1e4)}();